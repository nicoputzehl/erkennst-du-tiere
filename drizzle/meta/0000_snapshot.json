{
  "version": "6",
  "dialect": "sqlite",
  "id": "02aa8624-f411-4899-83d1-c875447a2686",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "auto_free_hints_used": {
      "name": "auto_free_hints_used",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "hint_id": {
          "name": "hint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "auto_free_hints_used_pk": {
          "name": "auto_free_hints_used_pk",
          "columns": [
            "question_id",
            "hint_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "auto_free_hints_used_question_id_questions_id_fk": {
          "name": "auto_free_hints_used_question_id_questions_id_fk",
          "tableFrom": "auto_free_hints_used",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "hint_definitions": {
      "name": "hint_definitions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cost": {
          "name": "cost",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "triggers": {
          "name": "triggers",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trigger_after_attempts": {
          "name": "trigger_after_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trigger_specific_content": {
          "name": "trigger_specific_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_hint_definitions_question": {
          "name": "idx_hint_definitions_question",
          "columns": [
            "question_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "hint_definitions_question_id_questions_id_fk": {
          "name": "hint_definitions_question_id_questions_id_fk",
          "tableFrom": "hint_definitions",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "hint_states": {
      "name": "hint_states",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "wrong_attempts": {
          "name": "wrong_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hint_states_question_id_questions_id_fk": {
          "name": "hint_states_question_id_questions_id_fk",
          "tableFrom": "hint_states",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "navigation_history": {
      "name": "navigation_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "visited_at": {
          "name": "visited_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_navigation_history_date": {
          "name": "idx_navigation_history_date",
          "columns": [
            "visited_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "navigation_history_quiz_id_quizzes_id_fk": {
          "name": "navigation_history_quiz_id_quizzes_id_fk",
          "tableFrom": "navigation_history",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pending_unlocks": {
      "name": "pending_unlocks",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quiz_title": {
          "name": "quiz_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "unlocked_at": {
          "name": "unlocked_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "shown": {
          "name": "shown",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        }
      },
      "indexes": {
        "idx_pending_unlocks_shown": {
          "name": "idx_pending_unlocks_shown",
          "columns": [
            "shown"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pending_unlocks_quiz_id_quizzes_id_fk": {
          "name": "pending_unlocks_quiz_id_quizzes_id_fk",
          "tableFrom": "pending_unlocks",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "point_transactions": {
      "name": "point_transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hint_id": {
          "name": "hint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_point_transactions_date": {
          "name": "idx_point_transactions_date",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "point_transactions_quiz_id_quizzes_id_fk": {
          "name": "point_transactions_quiz_id_quizzes_id_fk",
          "tableFrom": "point_transactions",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "point_transactions_question_id_questions_id_fk": {
          "name": "point_transactions_question_id_questions_id_fk",
          "tableFrom": "point_transactions",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "question_images": {
      "name": "question_images",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "image_data": {
          "name": "image_data",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "image_type": {
          "name": "image_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "thumbnail_data": {
          "name": "thumbnail_data",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "thumbnail_type": {
          "name": "thumbnail_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unsolved_image_data": {
          "name": "unsolved_image_data",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unsolved_image_type": {
          "name": "unsolved_image_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unsolved_thumbnail_data": {
          "name": "unsolved_thumbnail_data",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unsolved_thumbnail_type": {
          "name": "unsolved_thumbnail_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "image_size": {
          "name": "image_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "image_width": {
          "name": "image_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "image_height": {
          "name": "image_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_images_question_id_questions_id_fk": {
          "name": "question_images_question_id_questions_id_fk",
          "tableFrom": "question_images",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "question_states": {
      "name": "question_states",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'inactive'"
        },
        "solved_at": {
          "name": "solved_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_question_states_status": {
          "name": "idx_question_states_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "question_states_question_id_questions_id_fk": {
          "name": "question_states_question_id_questions_id_fk",
          "tableFrom": "question_states",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "questions": {
      "name": "questions",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "alternative_answers": {
          "name": "alternative_answers",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fun_fact": {
          "name": "fun_fact",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "wikipedia_name": {
          "name": "wikipedia_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_questions_quiz_id": {
          "name": "idx_questions_quiz_id",
          "columns": [
            "quiz_id"
          ],
          "isUnique": false
        },
        "idx_questions_order": {
          "name": "idx_questions_order",
          "columns": [
            "quiz_id",
            "order_index"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "questions_quiz_id_quizzes_id_fk": {
          "name": "questions_quiz_id_quizzes_id_fk",
          "tableFrom": "questions",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "quiz_states": {
      "name": "quiz_states",
      "columns": {
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "completed_questions": {
          "name": "completed_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "completed_at": {
          "name": "completed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_played_at": {
          "name": "last_played_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_quiz_states_completed": {
          "name": "idx_quiz_states_completed",
          "columns": [
            "completed_questions"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "quiz_states_quiz_id_quizzes_id_fk": {
          "name": "quiz_states_quiz_id_quizzes_id_fk",
          "tableFrom": "quiz_states",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "quizzes": {
      "name": "quizzes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title_image": {
          "name": "title_image",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title_image_type": {
          "name": "title_image_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "initially_locked": {
          "name": "initially_locked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "initial_unlocked_questions": {
          "name": "initial_unlocked_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 2
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_quizzes_order": {
          "name": "idx_quizzes_order",
          "columns": [
            "order_index"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "unlock_conditions": {
      "name": "unlock_conditions",
      "columns": {
        "quiz_id": {
          "name": "quiz_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "required_quiz_id": {
          "name": "required_quiz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "required_questions_solved": {
          "name": "required_questions_solved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "unlock_conditions_quiz_id_quizzes_id_fk": {
          "name": "unlock_conditions_quiz_id_quizzes_id_fk",
          "tableFrom": "unlock_conditions",
          "tableTo": "quizzes",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "unlock_conditions_required_quiz_id_quizzes_id_fk": {
          "name": "unlock_conditions_required_quiz_id_quizzes_id_fk",
          "tableFrom": "unlock_conditions",
          "tableTo": "quizzes",
          "columnsFrom": [
            "required_quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "used_hints": {
      "name": "used_hints",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "hint_id": {
          "name": "hint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "hint_title": {
          "name": "hint_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "hint_content": {
          "name": "hint_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "used_at": {
          "name": "used_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_used_hints_question": {
          "name": "idx_used_hints_question",
          "columns": [
            "question_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "used_hints_question_id_questions_id_fk": {
          "name": "used_hints_question_id_questions_id_fk",
          "tableFrom": "used_hints",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_points": {
      "name": "user_points",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "total_points": {
          "name": "total_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 50
        },
        "earned_points": {
          "name": "earned_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 50
        },
        "spent_points": {
          "name": "spent_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}